"use strict";console.log("funciona?funciona");const cardList=document.querySelector(".js-cardList"),favCardList=document.querySelector(".js-favList"),searchInput=document.querySelector(".js-input"),searchBtn=document.querySelector(".js-button");let characters=[],favCharacters=[];function renderOneCard(e,t){const a=document.createElement("li");a.setAttribute("class","listElement");const r=document.createElement("article");r.setAttribute("class","js-articleElement `${classFavorite}`"),r.setAttribute("id",""+e.char_id);const s=document.createElement("img");s.setAttribute("src",""+e.img),s.setAttribute("alt",""+e.name),s.setAttribute("class","listElement__article--img");const c=document.createElement("h3"),n=document.createTextNode(""+e.name);c.setAttribute("class","listElement__article--name");const i=document.createElement("p"),o=document.createTextNode(""+e.status);i.setAttribute("class","listElement__article--status"),c.appendChild(n),i.appendChild(o),r.appendChild(s),r.appendChild(c),r.appendChild(i),a.appendChild(r),t.appendChild(a)}function renderAllCards(e){cardList.innerHTML="";for(const t of e)renderOneCard(t,cardList);addListListeners()}function renderFavCharacters(e){favCardList.innerHTML="";for(const t of e)renderOneCard(t,favCardList)}function addListListeners(){const e=document.querySelectorAll(".js-articleElement");for(const t of e)t.addEventListener("click",handleClickFavCard)}function handleClickFavCard(e){e.currentTarget.classList.toggle("selected");const t=characters.find(t=>t.char_id===parseInt(e.currentTarget.id));console.log(t);const a=favCharacters.findIndex(t=>t.char_id===parseInt(e.currentTarget.id));-1===a?(console.log(favCharacters),favCharacters.push(t),localStorage.setItem("favorites",JSON.stringify(favCharacters))):(favCharacters.splice(a,1),localStorage.setItem("favorites",JSON.stringify(favCharacters))),renderFavCharacters(favCharacters)}function handleClickSearchCard(e){e.preventDefault();const t=searchInput.value;console.log(searchInput.value);const a=characters.filter(e=>e.name.toLowerCase().includes(t));console.log(a),renderAllCards(a)}searchBtn.addEventListener("click",handleClickSearchCard),fetch("https://breakingbadapi.com/api/characters",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{characters=e,renderAllCards(characters)});const savedFavorites=JSON.parse(localStorage.getItem("favorites"));console.log(savedFavorites),null!==savedFavorites&&(favCharacters=savedFavorites,renderFavCharacters(savedFavorites));